# ---- General structure:
#   :dictionaries:
#    - :name: string                                                  # has to be unique within not-deleted dictionaries
#      :deleted: boolean                                              # optional, used to mark dictionary as deleted
#      :parameter_categories:
#       - :name: string                                               # has to be unique within the dictionary
#         :deleted: boolean                                           # optional, used to mark parameter category as deleted
#         :parameters:
#           - :name: string                                           # used for display
#             :parameter_type: integer/date/list/combobox/text/search # used to define applicable operators/display options. does not have to be restricted to the given list, but additional parameters will require adding operators to match
#             :searchable: boolean                                    # if defined, parameter will be used to construct queris, otherwise parameter will be used for  exporting only
#             :deleted: boolean                                       # optional, used to mark parameter as deleted
#             :exclusive: boolean                                     # defaults to true value, prevents parameters to be reused while constructing a search. Set to false to enable using a parameter multiple times 
#             :search:                                                # parameter search model and attribute combination has to be unique within the category
#               :model: string                                        # name of the model to be used for searching
#               :attribute: string                                    # name of the model attribute to be used for searching
#             :parameter_values:                                      # needs to be defined for list/combobox parameters unless parameter values come from the model, see ':source'
#               - :name: string                                       # used for display, if not provided, 'search_value' will be used instead
#                 :search_value: string                               # has to be unique within parameter, intendend to be used as a database value while searching
#                 :deleted: boolean                                   # optional, used to mark parameter value as deleted
#             :source:
#               :model: string                                        # source model to be used to load parameter values
#               :attribute: string                                    # attribute in the source model to be used to load parameter values
#               :method: string                                       # method in the source model to be used to load parameter values

---
:dictionaries:
  - :name: Sample dictionary
    :parameter_categories:
      - :name: Demographic criteria
        :parameters:
          - :name: Age at case collection date
            :parameter_type: integer
            :searchable: true
            :search:
              :model: Patient
              :attribute: age_at_case_collect
          - :name: Age based on current date
            :parameter_type: integer
            :searchable: true
            :search:
              :model: Patient
              :attribute: age_based_on_current_date
          - :name: Date of birth
            :parameter_type: date
            :searchable: true
            :search:
              :model: Patient
              :attribute: birth_dt_tm
          - :name: Ethnic group
            :searchable: true
            :parameter_type: list
            :search:
              :model: Patient
              :attribute: ethnic_grp
            :parameter_values:
              - :name: Hispanic or Latino
                :search_value: hisp_or_latino
              - :name: NOT Hispanic or Latino
                :search_value: not_hisp_or_latino
              - :name: Unable to answer
                :search_value: unknown
              - :name: Declined to answer
                :search_value: declined
          - :name: Gender
            :searchable: true
            :parameter_type: list
            :search:
              :model: Patient
              :attribute: sex
            :parameter_values:
              - :name: Male
                :search_value: male
              - :name: Female
                :search_value: female
              - :name: Indeterminent
                :search_value: indeterminent
              - :name: Unknown
                :search_value: unknown
              - :name: Unspecified
                :search_value: uncpecified
          - :name: Race
            :searchable: true
            :parameter_type: list
            :exclusive: false
            :search:
              :model: Patient
              :attribute: race
            :parameter_values:
              - :search_value: American Indian or Alaska Native
              - :search_value: Asian
              - :search_value: Black or African American
              - :search_value: Hispanic or Latino
              - :search_value: Native Hawaiian or Other Pacific Islander
              - :search_value: White or Caucasian
              - :search_value: Other
              - :search_value: Declined to answer
              - :search_value: Unable to answer
        
      - :name: Case criteria
        :parameters:
          - :name: Accession date
            :parameter_type: date
            :search:
              :model: Case
              :attribute: accessioned_dt_tm
          - :name: Text search diagnosis
            :exclusive: false
            :parameter_type: text
            :searchable: true
            :search:
              :model: Case
              :attribute: case_specimen_diagnosis
  
  - :name: Librarian dictionary
    :parameter_categories: 
      - :name: By author
        :parameters:
          - :name: "Last name"
            :search:
              :model: Author
              :attribute: autor_last_name
            :parameter_type: text
          - :name: "First name"
            :search:
              :model: Author
              :attribute: autor_first_name
            :parameter_type: text
          - :name: "Country"
            :search:
              :model: Author
              :attribute: country
            :parameter_type: text
      - :name: Book criteria
        :parameters:
          - :name: "Type"
            :search:
              :model: Book
              :attribute: type
            :parameter_type: combobox
            :searchable: true
            :parameter_values:
              - :search_value: book
              - :search_value: journal
              - :search_value: article
              - :search_value: electronic journal
          - :name: "Title"
            :searchable: true
            :search:
              :model: Book
              :attribute: title
            :parameter_type: text
          - :name: "Keyword"
            :searchable: true
            :search:
              :model: Book
              :attribute: text
            :parameter_type: text

  - :name: Deleted dictionary
    :deleted: true
    :parameter_categories: 
      - :name: Deleted category A
        :deleted: true
        :parameters:
          - :name: "Deleted date parameter"
            :search:
              :model: Deleted
              :attribute: deleted_date
            :parameter_type: date
            :deleted: true
